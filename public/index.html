<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹ÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Tajawal:wght@700;800;900&display=swap" rel="stylesheet" />
  <style>
    :root{--bg:#0d1117;--card:#161b22;--line:#30363d}
    html,body{height:100%}
    body{font-family:'Cairo',sans-serif;background:var(--bg);color:#e5e7eb;line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overscroll-behavior-y:none}
    h1,h2,h3,h4,h5,h6{font-family:'Tajawal',sans-serif;margin-bottom:1rem}
    p{margin-bottom:1.5rem}
    .text-gradient{background:linear-gradient(90deg,#60a5fa,#8b5cf6,#ec4899);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
    .hero-section{background:url('https://images.unsplash.com/photo-1516117172878-fd2dc7981503?q=80&w=2070&auto=format&fit=crop') center/cover no-repeat;position:relative;padding:8rem 0;overflow:hidden}
    .hero-overlay{background-color:rgba(13,17,23,.8);position:absolute;inset:0}
    .btn-gradient{background:linear-gradient(90deg,#60a5fa,#8b5cf6);transition:.25s transform,.25s box-shadow;box-shadow:0 4px 10px rgba(0,0,0,.2);position:relative;z-index:1}
    .btn-gradient:hover{transform:translateY(-3px);box-shadow:0 10px 20px rgba(0,0,0,.35)}
    .robot-card{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:var(--card);padding:1.25rem;border-radius:1rem;border:1px solid var(--line);box-shadow:0 4px 8px rgba(0,0,0,.2);transition:.25s transform,.25s box-shadow;cursor:pointer}
    .robot-card:hover{transform:translateY(-6px);box-shadow:0 14px 22px rgba(0,0,0,.35)}
    .robot-circle{width:112px;height:112px;border-radius:50%;background:linear-gradient(to right,#60a5fa,#8b5cf6);display:flex;align-items:center;justify-content:center;overflow:hidden}
    .robot-image{width:100%;height:100%;object-fit:cover;transition:transform .25s}
    .robot-card:hover .robot-image{transform:scale(1.06)}
    .faq-item{background:var(--card);padding:1.25rem;border-radius:.75rem;border:1px solid var(--line);cursor:pointer;transition:background .25s}
    .faq-item:hover{background:#1b2230}
    .faq-answer{max-height:0;overflow:hidden;transition:max-height .25s}
    .faq-item.active .faq-answer{max-height:220px}
    .discount-badge{background:linear-gradient(90deg,#60a5fa,#8b5cf6,#ec4899);color:#fff;padding:.5rem 1.25rem;border-radius:9999px;font-weight:700;position:absolute;top:-1.25rem;right:-1.25rem;transform:rotate(45deg);box-shadow:0 4px 10px rgba(0,0,0,.2)}
    /* ============ Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø«Ù„ ÙˆØ§ØªØ³Ø§Ø¨ ============ */
    #robot-chat-interface{position:fixed;inset:0;display:none;background:var(--bg);z-index:90}
    .chat-header{position:sticky;top:0;background:#111827;border-bottom:1px solid var(--line);padding:.75rem 1rem;z-index:5}
    .chat-title{font-weight:800}
    #robot-chat-messages{
      height:calc(100vh - 58px - env(safe-area-inset-bottom) - 72px);
      overflow-y:auto; padding:12px 12px 0 12px; display:flex; flex-direction:column; gap:.6rem;
      scroll-behavior:smooth; overscroll-behavior:contain; -webkit-overflow-scrolling:touch;
    }
    .bubble{max-width:86%;padding:.6rem .85rem;border-radius:14px;word-wrap:break-word;line-height:1.5}
    .bubble.user{align-self:flex-end;background:#3b82f6;color:#fff;border-bottom-right-radius:6px}
    .bubble.ai{align-self:flex-start;background:#8b5cf6;color:#fff;border-bottom-left-radius:6px}
    .bubble.system{align-self:center;background:#374151;color:#e5e7eb}
    #composer{position:sticky;bottom:0;border-top:1px solid var(--line);background:#0f1623;padding:.5rem .6rem .65rem .6rem;z-index:5}
    .composer-wrap{display:flex;align-items:flex-end;gap:.5rem}
    #robot-chat-input{
      resize:none;min-height:44px;max-height:132px;overflow-y:auto;flex:1;background:#111827;border:1px solid var(--line);
      border-radius:9999px;padding:.7rem 1rem;color:#fff;outline:none
    }
    .send-btn{background:#2563eb;color:#fff;border-radius:9999px;padding:.7rem 1.1rem;font-weight:700}
    .scroll-bottom{position:fixed;right:16px;bottom:88px;background:#374151;border:1px solid var(--line);color:#fff;border-radius:9999px;padding:.45rem .7rem;display:none;z-index:6}
    .spinner{width:18px;height:18px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .8s linear infinite;display:inline-block}
    @keyframes spin{to{transform:rotate(1turn)}}
    /* iOS fix for input hidden under keyboard */
    @supports (-webkit-touch-callout: none){ #robot-chat-messages{padding-bottom:20px} #composer{padding-bottom:calc(.65rem + env(safe-area-inset-bottom))}}
  </style>
</head>
<body class="antialiased">

  <!-- Header -->
  <header id="main-header" class="p-4 md:p-6 relative z-20">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl md:text-3xl font-extrabold text-white">ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹ÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ</h1>
      <div class="flex gap-2">
        <a href="admin.html" id="admin-link" class="btn-gradient text-white px-4 md:px-6 py-2 rounded-full font-semibold hidden">Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</a>
        <a href="#" id="login-btn" class="btn-gradient text-white px-4 md:px-6 py-2 rounded-full font-semibold">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
      </div>
    </div>
  </header>

  <!-- Landing -->
  <main id="main-content">
    <section class="hero-section text-center relative flex items-center justify-center">
      <div class="hero-overlay"></div>
      <div class="container mx-auto px-4 relative z-10 py-16">
        <h2 class="text-5xl md:text-7xl font-extrabold leading-tight mb-4 text-white">
          <span class="text-gradient">Ø£Ù†Ø¬Ø² Ø£ÙƒØ«Ø±</span> Ù…Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹ÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ
        </h2>
        <p class="text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto">
          Ù†Ù‚Ø¯Ù… Ù„Ùƒ ÙØ±ÙŠÙ‚Ø§Ù‹ Ù…ØªØ®ØµØµØ§Ù‹ Ù…Ù† 12 Ù…Ø³Ø§Ø¹Ø¯Ø§Ù‹ØŒ ÙƒÙ„ Ù…Ù†Ù‡Ù… Ø¬Ø§Ù‡Ø² Ù„Ø¥Ù†Ø¬Ø§Ø² Ù…Ù‡Ù…Ø© Ù…Ø­Ø¯Ø¯Ø© Ø¨Ø¯Ù‚Ø© ÙˆÙƒÙØ§Ø¡Ø©.
        </p>
        <a href="#" class="btn-gradient text-white text-lg px-8 py-4 rounded-full">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</a>
      </div>
    </section>

    <!-- Pricing -->
    <section class="py-16 md:py-20 bg-gray-900 text-center">
      <div class="container mx-auto px-4">
        <h3 class="text-3xl md:text-4xl font-bold mb-4 text-white">Ø¹Ø±Ø¶ Ø­ØµØ±ÙŠ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø©</h3>
        <p class="text-lg md:text-xl text-gray-400 mb-8 max-w-2xl mx-auto">
          Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ ÙˆØµÙˆÙ„ ÙƒØ§Ù…Ù„ ÙˆØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ÙŠÙ† Ø¨Ø³Ø¹Ø± Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠ ÙŠØ¯ÙØ¹ Ù„Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©.
        </p>
        <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-700 max-w-lg mx-auto relative overflow-hidden">
          <div class="discount-badge">Ø®ØµÙ… Ù©Ù %</div>
          <div class="relative z-10 flex flex-col items-center">
            <p class="text-5xl font-extrabold text-white mb-2">
              <span class="text-2xl line-through text-gray-500">200$</span>
              <span class="text-gradient text-6xl">39$</span>
            </p>
            <p class="text-gray-400 mb-6">Ù„Ù„ÙˆØµÙˆÙ„ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø©</p>
            <a href="#" class="btn-gradient text-white text-lg px-8 py-4 rounded-full">Ø§Ø´ØªØ±Ù Ø§Ù„Ø¢Ù†</a>
          </div>
        </div>
      </div>
    </section>

    <!-- What You Get -->
    <section class="py-16 md:py-20">
      <div class="container mx-auto px-4 text-center">
        <h3 class="text-3xl md:text-4xl font-bold mb-4 text-white">Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø³ØªØ­ØµÙ„ Ø¹Ù„ÙŠÙ‡ØŸ</h3>
        <p class="text-lg md:text-xl text-gray-400 mb-10 md:mb-12 max-w-3xl mx-auto">Ù…Ø²Ø§ÙŠØ§ Ø«Ø§Ø¨ØªØ© Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø©.</p>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
          <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-700 text-center">
            <svg class="mx-auto" width="48" height="48" fill="currentColor" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            <h4 class="text-2xl font-bold mb-2 text-white">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ÙŠÙ† Ø§Ù„Ù€12</h4>
            <p class="text-gray-400">ÙˆØµÙˆÙ„ ÙƒØ§Ù…Ù„ Ù„ÙƒÙ„ Ù…Ø³Ø§Ø¹Ø¯.</p>
          </div>
          <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-700 text-center">
            <svg class="mx-auto" width="48" height="48" fill="currentColor" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            <h4 class="text-2xl font-bold mb-2 text-white">ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø©</h4>
            <p class="text-gray-400">ØªØ­Ø³ÙŠÙ†Ø§Øª Ù…Ø³ØªÙ…Ø±Ø© Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ….</p>
          </div>
          <div class="bg-gray-800 p-8 rounded-xl shadow-lg border border-gray-700 text-center">
            <svg class="mx-auto" width="48" height="48" fill="currentColor" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            <h4 class="text-2xl font-bold text-white">Ø­Ù„ Ù…ØªÙƒØ§Ù…Ù„</h4>
            <p class="text-gray-400">ÙƒÙ„ Ø´ÙŠØ¡ ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Why -->
    <section class="py-16 md:py-20 bg-gray-900">
      <div class="container mx-auto px-4 text-center">
        <h3 class="text-3xl md:text-4xl font-bold mb-4 text-white">Ù„Ù…Ø§Ø°Ø§ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹ÙˆÙ† Ø§Ù„Ø°ÙƒÙŠØŸ</h3>
        <p class="text-lg md:text-xl text-gray-400 mb-12 max-w-2xl mx-auto">ØªØ®ØµØµ + Ø³Ø±Ø¹Ø© + ØªÙƒØ§Ù…Ù„.</p>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
          <div class="bg-gray-800 p-8 rounded-xl border border-gray-700"><div class="text-5xl mb-4 text-gradient">âœ¨</div><h4 class="text-2xl font-bold mb-2 text-white">ØªØ®ØµØµ</h4><p class="text-gray-400">ÙƒÙ„ Ù…Ø³Ø§Ø¹Ø¯ ÙŠØªÙ‚Ù† Ù…Ø¬Ø§Ù„Ù‡.</p></div>
          <div class="bg-gray-800 p-8 rounded-xl border border-gray-700"><div class="text-5xl mb-4 text-gradient">ğŸš€</div><h4 class="text-2xl font-bold mb-2 text-white">Ø³Ø±Ø¹Ø©</h4><p class="text-gray-400">Ø¥Ù†Ø¬Ø§Ø² ÙÙˆØ±ÙŠ Ø¨Ø°ÙƒØ§Ø¡.</p></div>
          <div class="bg-gray-800 p-8 rounded-xl border border-gray-700"><div class="text-5xl mb-4 text-gradient">ğŸ”—</div><h4 class="text-2xl font-bold text-white">ØªÙƒØ§Ù…Ù„</h4><p class="text-gray-400">ÙˆØ¯Ø§Ø¹Ù‹Ø§ Ù„Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¯ÙˆØ§Øª.</p></div>
        </div>
      </div>
    </section>

    <!-- Team -->
    <section class="py-16 md:py-20 bg-gray-900">
      <div class="container mx-auto px-4 text-center">
        <h3 class="text-3xl md:text-4xl font-bold mb-4 text-white">ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ÙØ±ÙŠÙ‚Ùƒ</h3>
        <p class="text-lg md:text-xl text-gray-400 mb-10 max-w-3xl mx-auto">12 Ù…Ø³Ø§Ø¹Ø¯Ø§Ù‹ Ù…ØªØ®ØµÙ‘ØµØ§Ù‹.</p>
        <div id="robots-grid" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6"></div>
      </div>
    </section>

    <!-- Ø¢Ø±Ø§Ø¡ -->
    <section class="py-16 md:py-20">
      <div class="container mx-auto px-4 text-center">
        <h3 class="text-3xl md:text-4xl font-bold mb-4 text-white">Ù…Ø§Ø°Ø§ ÙŠÙ‚ÙˆÙ„ Ø¹Ù…Ù„Ø§Ø¤Ù†Ø§ØŸ</h3>
        <p class="text-lg md:text-xl text-gray-400 mb-12 max-w-2xl mx-auto">Ù‚ØµØµ Ù†Ø¬Ø§Ø­ Ø­Ù‚ÙŠÙ‚ÙŠØ©.</p>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
          <div class="bg-gray-800 p-8 rounded-xl border border-gray-700 text-left"><p class="text-gray-300 mb-4">"Ø£ØµØ¨Ø­Ù†Ø§ Ø£ÙƒØ«Ø± ÙƒÙØ§Ø¡Ø© ÙˆØ¥Ù†ØªØ§Ø¬ÙŠØ©."</p><p class="font-bold text-white">- Ø£Ø­Ù…Ø¯</p></div>
          <div class="bg-gray-800 p-8 rounded-xl border border-gray-700 text-left"><p class="text-gray-300 mb-4">"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ ÙˆÙÙ‘Ø± Ø³Ø§Ø¹Ø§Øª Ø¹Ù…Ù„."</p><p class="font-bold text-white">- Ø³Ø§Ø±Ø©</p></div>
          <div class="bg-gray-800 p-8 rounded-xl border border-gray-700 text-left"><p class="text-gray-300 mb-4">"Ø§Ù„ØªØ­Ù„ÙŠÙ„ ØµØ§Ø± Ø³Ù‡Ù„Ø§Ù‹."</p><p class="font-bold text-white">- Ø®Ø§Ù„Ø¯</p></div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="py-16 md:py-20 bg-gray-900">
      <div class="container mx-auto px-4 text-center">
        <h3 class="text-3xl md:text-4xl font-bold mb-4 text-white">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</h3>
        <p class="text-lg md:text-xl text-gray-400 mb-12 max-w-3xl mx-auto">Ø£Ø¨Ø±Ø² Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©.</p>
        <div class="space-y-4 max-w-3xl mx-auto">
          <div class="faq-item"><div class="flex justify-between items-center"><h5 class="font-bold text-white">Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ø³Ø§Ø¹Ø¯ØŸ</h5><svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg></div><div class="faq-answer mt-3 text-gray-400"><p>Ù†Ø¹Ù…ØŒ Ø¯ÙˆÙ† Ø­Ø¯ÙˆØ¯.</p></div></div>
          <div class="faq-item"><div class="flex justify-between items-center"><h5 class="font-bold text-white">Ù‡Ù„ ØªÙˆØ¬Ø¯ Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©ØŸ</h5><svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg></div><div class="faq-answer mt-3 text-gray-400"><p>Ø§Ù„Ø´Ø±Ø§Ø¡ Ù…Ø¯Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© Ù„Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©.</p></div></div>
          <div class="faq-item"><div class="flex justify-between items-center"><h5 class="font-bold text-white">ØªÙƒÙ„ÙØ© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØŸ</h5><svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg></div><div class="faq-answer mt-3 text-gray-400"><p>Ù„ÙŠØ³Øª Ø§Ø´ØªØ±Ø§ÙƒØ§Ù‹.</p></div></div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="py-16 md:py-20 bg-gray-800 text-center">
      <div class="container mx-auto px-4">
        <h3 class="text-3xl md:text-4xl font-bold text-white mb-4">Ø¬Ø§Ù‡Ø² Ù„ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù…Ø²ÙŠØ¯ØŸ</h3>
        <p class="text-lg md:text-xl text-gray-400 mb-8">Ø§Ù†Ø¶Ù… ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†.</p>
        <a href="#" class="btn-gradient text-white text-lg px-8 py-4 rounded-full">Ø§Ø´ØªØ±Ù Ø§Ù„Ø¢Ù†</a>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 text-center py-6"><p class="text-gray-500">&copy; 2025 ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹ÙˆÙ† Ø§Ù„Ø°ÙƒÙŠ.</p></footer>

  <!-- Login Modal -->
  <div id="login-modal" class="fixed inset-0 hidden z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center">
    <div class="bg-[#161b22] w-[92%] max-w-[420px] border border-gray-700 rounded-xl p-6">
      <div class="flex items-center justify-between mb-3">
        <h4 class="text-2xl font-bold text-white">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h4>
        <button class="text-gray-400 hover:text-white" id="close-login">&times;</button>
      </div>
      <div class="mb-4">
        <label class="block text-gray-400 mb-2" for="username">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
        <input id="username" class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-purple-500" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" />
      </div>
      <div class="mb-5">
        <label class="block text-gray-400 mb-2" for="password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
        <input id="password" type="password" class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-purple-500" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
      </div>
      <button id="submit-login" class="btn-gradient w-full text-white py-3 rounded-full font-bold">Ø¯Ø®ÙˆÙ„</button>
      <p id="login-message" class="mt-4 text-center font-bold"></p>
      <p id="admin-health" class="text-xs text-center text-gray-400 mt-3"></p>
    </div>
  </div>

  <!-- Dashboard (Ù…Ø®ØªØµØ±: Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø±ÙˆØ¨ÙˆØª ÙÙ‚Ø·) -->
  <div id="dashboard-container" class="hidden">
    <header class="p-6">
      <div class="container mx-auto flex justify-between items-center">
        <h1 class="text-2xl md:text-3xl font-extrabold text-white">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
        <div class="flex gap-2">
          <a href="admin.html" id="dash-admin-link" class="btn-gradient text-white px-4 py-2 rounded-full font-semibold hidden">Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</a>
          <a href="#" id="profile-btn" class="btn-gradient text-white px-4 py-2 rounded-full font-semibold">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</a>
          <a href="#" id="logout-btn" class="btn-gradient text-white px-4 py-2 rounded-full font-semibold">Ø®Ø±ÙˆØ¬</a>
        </div>
      </div>
    </header>

    <section class="py-8">
      <div class="container mx-auto px-4 text-center">
        <h3 class="text-3xl font-bold mb-3 text-white">Ø§Ø®ØªØ± Ù…Ø³Ø§Ø¹Ø¯Ùƒ</h3>
        <p class="text-lg text-gray-400 mb-8 max-w-3xl mx-auto">Ø§Ø¨Ø¯Ø£ Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹ Ø£ÙŠ Ù…Ø³Ø§Ø¹Ø¯.</p>
        <div id="robot-list" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6"></div>
      </div>
    </section>

    <section class="py-10 bg-gray-900">
      <div class="container mx-auto px-4">
        <h3 class="text-3xl font-bold mb-4 text-white text-center">Ù…Ø­Ø§Ø¯Ø«Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h3>
        <div id="conversations-list" class="space-y-3"></div>
      </div>
    </section>
  </div>

  <!-- Profile (Ù…Ø®ØªØµØ±) -->
  <div id="profile-section" class="hidden fixed inset-0 bg-[#0d1117] z-[90] flex-col overflow-y-auto">
    <div class="flex items-center justify-between p-4 bg-gray-800 border-b border-gray-700">
      <button id="back-to-dashboard-from-profile-btn" class="text-white text-2xl">&larr;</button>
      <h4 class="text-xl font-bold text-white">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h4><span class="w-6 h-6"></span>
    </div>
    <div class="container mx-auto px-4 py-8">
      <h3 class="text-2xl md:text-3xl font-bold text-white mb-4">Ø¨ÙŠØ§Ù†Ø§ØªÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
      <div id="basic-data" class="bg-gray-800 p-6 rounded-lg mb-6 border border-gray-700"></div>
      <h3 class="text-2xl md:text-3xl font-bold text-white mb-4">Ù…Ø§ ØªØ¹Ù„Ù…Ù‡ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h3>
      <div id="learned-data" class="bg-gray-800 p-6 rounded-lg border border-gray-700">
        <p class="text-gray-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</p>
      </div>
    </div>
  </div>

  <!-- Chat like WhatsApp -->
  <div id="robot-chat-interface">
    <div class="chat-header flex items-center gap-2">
      <button id="back-to-dashboard-btn" class="text-white text-2xl">&larr;</button>
      <h4 id="robot-chat-header" class="chat-title text-white text-lg md:text-xl mx-auto"></h4>
      <span class="w-6 h-6"></span>
    </div>
    <div id="robot-chat-messages"></div>
    <button id="scroll-bottom" class="scroll-bottom">Ù„Ù„Ø£Ø³ÙÙ„</button>
    <div id="composer">
      <div class="composer-wrap">
        <label for="file-upload" class="cursor-pointer shrink-0">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-gray-400 hover:text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"/></svg>
          <input type="file" id="file-upload" class="hidden" />
        </label>
        <textarea id="robot-chat-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." rows="1"></textarea>
        <button id="robot-chat-send-btn" class="send-btn">Ø¥Ø±Ø³Ø§Ù„</button>
      </div>
    </div>
  </div>

  <script>
    /* ---------- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±ÙˆØ¨ÙˆØªØ§Øª Ù…Ø¹ ØµÙˆØ± Ø¯Ù‚ÙŠÙ‚Ø© ---------- */
    const robots = [
      { name:"Ø£Ù„ÙØ§ (Alfa)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø±Ù‚Ù…ÙŠ", img:"https://images.unsplash.com/photo-1551281044-3ca5df2abf36?q=80&w=900&auto=format&fit=crop" },
      { name:"ÙÙŠØ²ÙŠ (Vizi)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª", img:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?q=80&w=900&auto=format&fit=crop" },
      { name:"ÙƒÙˆØ±ØªÙƒØ³ (Cortex)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø§Ù„ÙŠ", img:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?q=80&w=900&auto=format&fit=crop" },
      { name:"Ù„ÙŠÙƒØ³ (Lex)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡", img:"https://images.unsplash.com/photo-1525182008055-f88b95ff7980?q=80&w=900&auto=format&fit=crop" },
      { name:"Ø£ÙˆÙƒØªÙˆ (Octo)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª", img:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=900&auto=format&fit=crop" },
      { name:"Ù…ÙŠÙ†Ø§ (Mina)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", img:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=900&auto=format&fit=crop" },
      { name:"Ø¨ÙˆÙ„Øª (Bolt)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹", img:"https://images.unsplash.com/photo-1552581234-26160f608093?q=80&w=900&auto=format&fit=crop" },
      { name:"Ø±ÙŠÙƒØ³ (Rex)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©", img:"https://images.unsplash.com/photo-1553729784-e91953dec042?q=80&w=900&auto=format&fit=crop" },
      { name:"Ø¨Ø§Ø¯ÙŠ (Buddy)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©", img:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=900&auto=format&fit=crop" },
      { name:"Ø±ÙˆÙØ± (Rover)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡", img:"https://images.unsplash.com/photo-1521737604893-ff8a0b6a9d4f?q=80&w=900&auto=format&fit=crop" },
      { name:"ÙØ§Ù„ÙˆØ± (Valor)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©", img:"https://images.unsplash.com/photo-1522199710521-72d69614c702?q=80&w=900&auto=format&fit=crop" },
      { name:"Ø²ÙŠÙ†ÙŠØ« (Zenith)", specialization:"Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±", img:"https://images.unsplash.com/photo-1531297484001-80022131f5a1?q=80&w=900&auto=format&fit=crop" }
    ];

    /* ---------- FAQ toggle ---------- */
    document.querySelectorAll('.faq-item').forEach(it=>it.addEventListener('click',()=>it.classList.toggle('active')));

    /* ---------- Ø¹Ù†Ø§ØµØ± Ø¹Ø§Ù…Ø© ---------- */
    const loginBtn=document.getElementById('login-btn');
    const loginModal=document.getElementById('login-modal');
    const closeLogin=document.getElementById('close-login');
    const submitLogin=document.getElementById('submit-login');
    const usernameInput=document.getElementById('username');
    const passwordInput=document.getElementById('password');
    const loginMessage=document.getElementById('login-message');
    const adminHealth=document.getElementById('admin-health');
    const mainContent=document.getElementById('main-content');
    const mainHeader=document.getElementById('main-header');
    const adminLink=document.getElementById('admin-link');
    const dashAdminLink=document.getElementById('dash-admin-link');

    const dashboardContainer=document.getElementById('dashboard-container');
    const robotListContainer=document.getElementById('robot-list');
    const conversationsListContainer=document.getElementById('conversations-list');
    const profileBtn=document.getElementById('profile-btn');
    const logoutBtn=document.getElementById('logout-btn');

    const profileSection=document.getElementById('profile-section');
    const backToDashboardFromProfileBtn=document.getElementById('back-to-dashboard-from-profile-btn');
    const basicDataContainer=document.getElementById('basic-data');
    const learnedDataContainer=document.getElementById('learned-data');

    const robotsGrid=document.getElementById('robots-grid');

    const robotChatInterface=document.getElementById('robot-chat-interface');
    const robotChatHeader=document.getElementById('robot-chat-header');
    const messagesEl=document.getElementById('robot-chat-messages');
    const inputEl=document.getElementById('robot-chat-input');
    const sendBtn=document.getElementById('robot-chat-send-btn');
    const backBtn=document.getElementById('back-to-dashboard-btn');
    const fileUploadInput=document.getElementById('file-upload');
    const scrollBottomBtn=document.getElementById('scroll-bottom');

    let setupChatState=0; let companyData={}; let currentRobot=null; let aiLearnedData=JSON.parse(localStorage.getItem('aiLearnedData')||'{}');

    /* ---------- Ø±Ù†Ø¯Ø± Ø´Ø¨ÙƒØ© Ø§Ù„Ø±ÙˆØ¨ÙˆØªØ§Øª ÙÙŠ Ø§Ù„Ù„Ø§Ù†Ø¯Ù†Ø¬ Ø£ÙŠØ¶Ù‹Ø§ ---------- */
    function renderRobotsGrid(){
      robotsGrid.innerHTML='';
      robots.forEach(r=>{
        const card=document.createElement('div');
        card.className='robot-card';
        card.innerHTML=`<div class="robot-circle"><img class="robot-image" src="${r.img}" alt="Ø±ÙˆØ¨ÙˆØª ${r.name}"/></div>
                        <h4 class="font-bold mt-3 text-white">${r.name}</h4>
                        <p class="text-sm text-gray-400 mt-1">${r.specialization}</p>`;
        card.addEventListener('click',()=>{ showDashboard(); startRobotChat(r.name) });
        robotsGrid.appendChild(card);
      });
    }
    renderRobotsGrid();

    /* ---------- Ù‡ÙŠÙ„Ø¨Ø±Ø² ---------- */
    function addMessage(el, text, sender='ai'){
      const div=document.createElement('div');
      div.className=`bubble ${sender==='user'?'user':sender==='system'?'system':'ai'}`;
      div.textContent=text; el.appendChild(div); autoScroll();
    }
    function addTyping(){
      const div=document.createElement('div'); div.className='bubble ai'; div.innerHTML='<span class="spinner"></span>';
      div.dataset.typing='1'; messagesEl.appendChild(div); autoScroll(); return div;
    }
    function removeTyping(node){ if(node && node.parentNode){ node.parentNode.removeChild(node); } }
    function autoScroll(force=false){
      const near=messagesEl.scrollHeight - messagesEl.scrollTop - messagesEl.clientHeight;
      if(force || near<120){ messagesEl.scrollTop=messagesEl.scrollHeight; scrollBottomBtn.style.display='none'; }
      else{ scrollBottomBtn.style.display='block'; }
    }
    messagesEl.addEventListener('scroll',()=>{
      const near=messagesEl.scrollHeight - messagesEl.scrollTop - messagesEl.clientHeight;
      scrollBottomBtn.style.display = near>120 ? 'block':'none';
    });
    scrollBottomBtn.addEventListener('click',()=>autoScroll(true));

    // textarea auto-grow + iOS fix
    function fitTextarea(){
      inputEl.style.height='auto';
      inputEl.style.height=Math.min(inputEl.scrollHeight,132)+'px';
    }
    inputEl.addEventListener('input',fitTextarea);
    inputEl.addEventListener('focus',()=>setTimeout(()=>inputEl.scrollIntoView({block:'nearest'}),100));

    /* ---------- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ + Ø±Ø¨Ø· Ø§Ù„Ø£Ø¯Ù…Ù† ---------- */
    loginBtn.addEventListener('click',e=>{e.preventDefault(); loginModal.classList.remove('hidden'); checkAdminHealth();});
    document.getElementById('close-login').addEventListener('click',()=>loginModal.classList.add('hidden'));
    window.addEventListener('click',e=>{ if(e.target===loginModal) loginModal.classList.add('hidden'); });

    async function checkAdminHealth(){
      adminHealth.textContent='ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø®Ø¯Ù…Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©â€¦';
      try{
        const r=await fetch('/.netlify/functions/users',{method:'OPTIONS'});
        adminHealth.textContent= r.ok? 'Ø®Ø¯Ù…Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…ØªØ§Ø­Ø©.':'ØªØ¹Ø°Ø± Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.';
      }catch(_){ adminHealth.textContent='ØªØ¹Ø°Ø± Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.'; }
    }

    submitLogin.addEventListener('click',()=>{
      const u=usernameInput.value.trim(); const p=passwordInput.value.trim();
      if(u==='Aiagent' && p==='2222'){
        loginMessage.textContent='ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!'; loginMessage.style.color='#10b981';
        localStorage.setItem('adminSession', JSON.stringify({user:u, ts:Date.now()}));
        adminLink.classList.remove('hidden'); dashAdminLink.classList.remove('hidden');
        setTimeout(()=>{ loginModal.classList.add('hidden'); if(localStorage.getItem('companyData')) showDashboard(); },900);
      }else{ loginMessage.textContent='Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©.'; loginMessage.style.color='#ef4444'; }
    });

    logoutBtn.addEventListener('click',e=>{
      e.preventDefault(); localStorage.removeItem('adminSession');
      adminLink.classList.add('hidden'); dashAdminLink.classList.add('hidden');
      location.href='/';
    });

    /* ---------- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø¨Ø³ÙŠØ·Ø© ---------- */
    function showDashboard(){
      mainContent.classList.add('hidden'); dashboardContainer.classList.remove('hidden'); mainHeader.classList.remove('hidden');
      renderRobotList(); renderConversationsList();
      const sess=localStorage.getItem('adminSession'); if(sess){ adminLink.classList.remove('hidden'); dashAdminLink.classList.remove('hidden'); }
    }
    function renderRobotList(){
      robotListContainer.innerHTML='';
      robots.forEach(robot=>{
        const card=document.createElement('div');
        card.className='robot-card'; card.dataset.name=robot.name;
        card.innerHTML=`<div class="robot-circle"><img src="${robot.img}" class="robot-image" alt="${robot.name}"/></div>
                        <h4 class="font-bold mt-3 text-white">${robot.name}</h4>
                        <p class="text-sm text-gray-400 mt-1">${robot.specialization}</p>`;
        card.addEventListener('click',()=>startRobotChat(robot.name));
        robotListContainer.appendChild(card);
      });
    }
    function renderConversationsList(){
      conversationsListContainer.innerHTML='';
      robots.forEach(robot=>{
        const conv=JSON.parse(localStorage.getItem('conversation_'+robot.name)||'[]');
        if(conv.length){
          const li=document.createElement('div');
          li.className='bg-gray-800 p-4 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors';
          li.textContent=`Ù…Ø­Ø§Ø¯Ø«Ø© Ø³Ø§Ø¨Ù‚Ø© Ù…Ø¹ ${robot.name}`;
          li.addEventListener('click',()=>startRobotChat(robot.name));
          conversationsListContainer.appendChild(li);
        }
      });
    }

    profileBtn.addEventListener('click',e=>{e.preventDefault(); dashboardContainer.classList.add('hidden'); profileSection.classList.remove('hidden'); updateProfileSection();});
    backToDashboardFromProfileBtn.addEventListener('click',()=>{ profileSection.classList.add('hidden'); dashboardContainer.classList.remove('hidden'); });
    function updateProfileSection(){
      const basic=JSON.parse(localStorage.getItem('companyData')||'{}'); const learned=JSON.parse(localStorage.getItem('aiLearnedData')||'{}');
      basicDataContainer.innerHTML=`<p class="text-gray-300"><b>Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©:</b> ${basic.name||'ØºÙŠØ± Ù…ØªÙˆÙØ±'}</p>
        <p class="text-gray-300"><b>Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¹Ù…Ù„:</b> ${basic.industry||'ØºÙŠØ± Ù…ØªÙˆÙØ±'}</p>
        <p class="text-gray-300"><b>Ø§Ù„Ø£Ù‡Ø¯Ø§Ù:</b> ${basic.goals||'ØºÙŠØ± Ù…ØªÙˆÙØ±'}</p>`;
      const keys=Object.keys(learned); learnedDataContainer.innerHTML = keys.length? keys.map(k=>`<p class="text-gray-300"><b>${k}:</b> ${learned[k]}</p>`).join(''): '<p class="text-gray-400">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©.</p>';
    }

    /* ---------- Ø¨Ø±ÙˆÙ…Ø¨ØªØ§Øª Ø¨Ø¯Ø¡ Ø¹Ø¨Ù‚Ø±ÙŠØ© Ù„ÙƒÙ„ Ø±ÙˆØ¨ÙˆØª ---------- */
    const personaHints={
      "Ø£Ù„ÙØ§ (Alfa)":"Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ØªØ³ÙˆÙŠÙ‚ ÙƒØ§Ù…Ù„Ø©: ICPØŒ Ø±Ø³Ø§Ø¦Ù„ Ù‚ÙŠÙ…Ø©ØŒ Ø®Ø§Ø±Ø·Ø© Ù‚Ù†ÙˆØ§ØªØŒ 3 Ø­Ù…Ù„Ø§Øª A/BØŒ ØªÙ‚ÙˆÙŠÙ… Ù…Ø­ØªÙˆÙ‰ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†ØŒ Ù…Ù‚Ø§ÙŠÙŠØ³ ØªØªØ¨Ø¹.",
      "ÙÙŠØ²ÙŠ (Vizi)":"Playbook Ù…Ø¨ÙŠØ¹Ø§Øª: Ø£Ø³Ø¦Ù„Ø© Ø§ÙƒØªØ´Ø§ÙØŒ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø§Ø¹ØªØ±Ø§Ø¶Ø§ØªØŒ Ù‚ÙˆØ§Ù„Ø¨ Ø¨Ø±ÙŠØ¯/ÙˆØ§ØªØ³Ø§Ø¨ØŒ Ù…Ø¤Ø´Ø±Ø§Øª CRMØŒ Ø®Ø·Ø© 14 ÙŠÙˆÙ…Ù‹Ø§ Ù„Ø¥ØºÙ„Ø§Ù‚ ØµÙÙ‚Ø§Øª.",
      "ÙƒÙˆØ±ØªÙƒØ³ (Cortex)":"Ù„ÙˆØ­Ø© Ù‚ÙŠØ§Ø¯Ø© Ù…Ø§Ù„ÙŠØ©: Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ù…Ø¨Ø³Ø·Ø©ØŒ ØªÙˆÙ‚Ø¹ ØªØ¯ÙÙ‚ Ù†Ù‚Ø¯ÙŠØŒ Ù‡ÙˆØ§Ù…Ø´ Ø±Ø¨Ø­ØŒ ØªÙˆØµÙŠØ§Øª ØªØ³Ø¹ÙŠØ±ØŒ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø®ÙØ¶ ØªÙƒÙ„ÙØ©.",
      "Ù„ÙŠÙƒØ³ (Lex)":"SLA Ø®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡ØŒ ØªØµØ¹ÙŠØ¯ Ø­Ø§Ù„Ø§ØªØŒ Ù‚ÙˆØ§Ù„Ø¨ Ø±Ø¯ÙˆØ¯ Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ù„Ù‡Ø¬Ø§ØªØŒ Ø®Ø·Ø© ØªØ­Ø³ÙŠÙ† CSAT.",
      "Ø£ÙˆÙƒØªÙˆ (Octo)":"SOP ØªÙØµÙŠÙ„ÙŠ Ù„Ø¹Ù…Ù„ÙŠØ© Ø­Ø±Ø¬Ø©ØŒ Ù…Ø®Ø·Ø· Ø³ÙŠØ± Ø¹Ù…Ù„ØŒ Ø£ØªÙ…ØªØ© Ù…Ù‚ØªØ±Ø­Ø© ÙˆØ£Ø¯ÙˆØ§Øª.",
      "Ù…ÙŠÙ†Ø§ (Mina)":"Ø£Ø³Ø¦Ù„Ø© ÙØ±Ø¶ÙŠØ§Øª + Ù…Ø¤Ø´Ø±Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ© + Ø®Ø·Ø© ØªÙ†Ø¸ÙŠÙ Ø¨ÙŠØ§Ù†Ø§Øª + Ù…Ø®Ø·Ø· Ù„ÙˆØ­Ø© ØªÙØ§Ø¹Ù„ÙŠØ©.",
      "Ø¨ÙˆÙ„Øª (Bolt)":"WBS + Ù…Ø®Ø·Ø· Ø¬Ø§Ù†Øª Ù…Ø¨Ø³Ù‘Ø· + Ù…Ø®Ø§Ø·Ø± Ø±Ø¦ÙŠØ³ÙŠØ© + Ø¬Ø¯ÙˆÙ„ ØªØ³Ù„ÙŠÙ…Ø§Øª Ø£Ø³Ø¨ÙˆØ¹ÙŠ.",
      "Ø±ÙŠÙƒØ³ (Rex)":"Ù…ÙˆØ§Ø²Ù†Ø© Ø£Ù‚Ø³Ø§Ù… + Ø³ÙŠØ§Ø³Ø§Øª ØµØ±Ù + Ø­Ø§Ø±Ø³ ØªÙƒØ§Ù„ÙŠÙ + ÙØ±Øµ ØªÙˆÙÙŠØ± Ø³Ø±ÙŠØ¹Ø©.",
      "Ø¨Ø§Ø¯ÙŠ (Buddy)":"Ø­Ø²Ù…Ø© Ù…Ø­ØªÙˆÙ‰: Ø¨ÙŠØ§Ù† ØµØ­ÙÙŠØŒ 5 ØªØºØ±ÙŠØ¯Ø§ØªØŒ Ù†Øµ Ù‚ØµØ©ØŒ Ù‚Ø§Ø¦Ù…Ø© Ù…Ø¤Ø«Ø±ÙŠÙ†ØŒ Ø®Ø·Ø© Ù†Ø´Ø± Ø£Ø³Ø¨ÙˆØ¹.",
      "Ø±ÙˆÙØ± (Rover)":"ØªÙ‚Ø³ÙŠÙ… Ø´Ø±Ø§Ø¦Ø­ + Ø±Ø­Ù„Ø§Øª Ø¹Ù…ÙŠÙ„ Ø¢Ù„ÙŠØ© + Ø¹Ø±ÙˆØ¶ ÙˆÙ„Ø§Ø¡ + Ù…Ø¤Ø´Ø±Ø§Øª Ø±Ø¶Ø§.",
      "ÙØ§Ù„ÙˆØ± (Valor)":"ØªØ´Ø®ÙŠØµ ØµÙØ­Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ + Ø®Ø·Ø© CRO + Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª A/B Ù„Ù„Ø³Ù„Ø© ÙˆØ§Ù„Ø¯ÙØ¹.",
      "Ø²ÙŠÙ†ÙŠØ« (Zenith)":"Ù‚Ù…Ø§Ø´ Ù†Ù…ÙˆØ°Ø¬ Ø¹Ù…Ù„ + Ø£ÙÙƒØ§Ø± MVP + Ø®Ø±ÙŠØ·Ø© Ø·Ø±ÙŠÙ‚ 60 ÙŠÙˆÙ…Ù‹Ø§ + Ù…Ù†Ø§ÙØ³ÙŠÙ†."
    };

    const robotPrompts = Object.fromEntries(robots.map(r=>[r.name,[
      {role:'ai',text:`Ù…Ø±Ø­Ø¨Ù‹Ø§! Ø£Ù†Ø§ ${r.name.split(' ')[0]}. Ø£Ø®Ø¨Ø±Ù†ÙŠ Ø¨Ø£Ù‚ÙˆÙ‰ 3 Ù…Ø¹Ù„ÙˆÙ…Ø§Øª: Ù…Ù†ØªØ¬Ùƒ/Ø®Ø¯Ù…ØªÙƒØŒ Ø¬Ù…Ù‡ÙˆØ±ÙƒØŒ ÙˆÙ‡Ø¯ÙÙƒ Ø®Ù„Ø§Ù„ 30 ÙŠÙˆÙ…Ù‹Ø§.`},
      {role:'ai',text:`Ø³Ø£Ø¨Ù†ÙŠ Ø®Ø·Ø© Ù…Ø®ØµØµØ© Ø§Ù„Ø¢Ù†. ${personaHints[r.name] || ''} Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…Ø­Ù„ÙŠ Ø£Ù… Ø§Ù„ØªÙˆØ³Ù‘Ø¹ØŸ`},
      {role:'ai',text:'Ø£Ø±Ø³Ù„ Ù„ÙŠ Ø£ÙŠ Ù…Ù„ÙØ§Øª/Ø±ÙˆØ§Ø¨Ø· ØªÙÙŠØ¯ (ØµÙØ­Ø© Ù…Ù†ØªØ¬ØŒ Ù…ÙˆÙ‚Ø¹ØŒ Ù‚Ø§Ø¦Ù…Ø© Ø£Ø³Ø¹Ø§Ø±).'}
    ]]));

    /* ---------- Ù…Ø­Ø§Ø¯Ø«Ø© ---------- */
    function startRobotChat(robotName){
      currentRobot=robotName; dashboardContainer.classList.add('hidden'); robotChatInterface.style.display='block';
      robotChatHeader.textContent=`Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹ ${robotName}`; messagesEl.innerHTML='';
      const saved=JSON.parse(localStorage.getItem('conversation_'+robotName)||'[]');
      if(saved.length){ saved.forEach(m=>addMessage(messagesEl,m.text,m.sender)); autoScroll(true); }
      else{ (robotPrompts[robotName]||[]).slice(0,1).forEach(m=>addMessage(messagesEl,m.text,'ai')); }
      fitTextarea(); inputEl.focus();
    }

    backBtn.addEventListener('click',()=>{ robotChatInterface.style.display='none'; dashboardContainer.classList.remove('hidden'); mainHeader.classList.remove('hidden'); renderConversationsList(); });

    fileUploadInput.addEventListener('change',e=>{
      const f=e.target.files[0]; if(!f) return;
      addMessage(messagesEl,`ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù: ${f.name}. Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„Ù‡â€¦`,'user');
      setTimeout(()=>{
        const ai=`ØªÙ… ØªØ­Ù„ÙŠÙ„ ${f.name}. Ù…Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù†ÙŠ Ø£Ø¬Ø§ÙˆØ¨Ù‡ Ø§Ù†Ø·Ù„Ø§Ù‚Ù‹Ø§ Ù…Ù†Ù‡ØŸ`;
        addMessage(messagesEl,ai,'ai');
        const conv=JSON.parse(localStorage.getItem('conversation_'+currentRobot)||'[]');
        conv.push({text:`ØªÙ… Ø±ÙØ¹ Ù…Ù„Ù: ${f.name}`,sender:'user'},{text:ai,sender:'ai'});
        localStorage.setItem('conversation_'+currentRobot,JSON.stringify(conv));
      },900);
    });

    /* ---------- Gemini Bridge ---------- */
    const NETLIFY_CHAT_ENDPOINT='/.netlify/functions/chat';
    function currentPersona(){ return typeof currentRobot==='string'? currentRobot : '' }
    function recentConversationFor(robotName,limit=14){
      const conv=JSON.parse(localStorage.getItem('conversation_'+robotName)||'[]');
      return conv.slice(-limit).map(m=>({role:m.sender==='user'?'user':'assistant',text:m.text}));
    }
    function withTimeout(p,ms=25000){ const t=new Promise((_,rej)=>setTimeout(()=>rej(new Error('timeout')),ms)); return Promise.race([p,t]); }

    async function geminiReply(userText,persona=''){
      const company=JSON.parse(localStorage.getItem('companyData')||'{}');
      const history=recentConversationFor(currentRobot||persona);
      const body={messages:[...history,{role:'user',text:userText}], persona, company};
      const res=await withTimeout(fetch(NETLIFY_CHAT_ENDPOINT,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)}));
      if(!res.ok){ const t=await res.text(); throw new Error(`HTTP ${res.status} - ${t}`); }
      const data=await res.json(); return data?.text || 'Ù„Ù… ÙŠØµÙ„ Ø±Ø¯.';
    }

    async function sendMessage(){
      const userText=inputEl.value.trim(); if(!userText || !currentRobot) return;
      inputEl.value=''; fitTextarea();
      addMessage(messagesEl,userText,'user');
      const storeKey='conversation_'+currentRobot;
      const saved=JSON.parse(localStorage.getItem(storeKey)||'[]'); saved.push({text:userText,sender:'user'});

      const typing=addTyping();
      try{
        const reply=await geminiReply(userText,currentPersona());
        removeTyping(typing); addMessage(messagesEl,reply,'ai');
        saved.push({text:reply,sender:'ai'}); localStorage.setItem(storeKey,JSON.stringify(saved));
      }catch(err){
        removeTyping(typing);
        const fb=`âš ï¸ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ:\n${err.message}`;
        addMessage(messagesEl,fb,'ai'); saved.push({text:fb,sender:'ai'}); localStorage.setItem(storeKey,JSON.stringify(saved));
      }
    }
    sendBtn.addEventListener('click',sendMessage);
    inputEl.addEventListener('keydown',e=>{
      if(e.key==='Enter' && !e.shiftKey){ e.preventDefault(); sendMessage(); }
    });

    /* ---------- ØªÙØ¹ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† Ø¥Ù† ÙˆÙØ¬Ø¯Øª Ø¬Ù„Ø³Ø© ---------- */
    document.addEventListener('DOMContentLoaded',()=>{
      if(localStorage.getItem('companyData')){ mainContent.classList.add('hidden'); dashboardContainer.classList.remove('hidden'); renderRobotList(); renderConversationsList(); }
      const sess=localStorage.getItem('adminSession'); if(sess){ adminLink.classList.remove('hidden'); dashAdminLink.classList.remove('hidden'); }
    });

    /* ---------- Ø£Ø¯ÙˆØ§Øª Ø¨Ø³ÙŠØ·Ø© Ù„Ù„Ø¥Ø¹Ø¯Ø§Ø¯ (Ù†ÙØ³ Ù…Ù†Ø·Ù‚Ùƒ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù…Ø­ÙÙˆØ¸) ---------- */
    // Ø¨Ø¥Ù…ÙƒØ§Ù†Ùƒ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¥Ø¹Ø§Ø¯Ø© ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø¥Ù† Ø±ØºØ¨ØªØ› ØªÙ… ØªØ¨Ø³ÙŠØ·Ù‡Ø§ Ù‡Ù†Ø§ Ù„Ø¹Ø¯Ù… Ø¥Ø·Ø§Ù„Ø© Ø§Ù„Ù…Ù„Ù.
  </script>
  <script src="auth-bridge-global.js"></script>
</body>
</html>
